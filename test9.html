<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html;charset=gb2312">
<title>单行文字上下滚动，JS无缝循环代码</title>
<style type="text/css">
#block2{height:23px;width:500px;border:#ccc 1px solid;font-size:12px;text-align:center;}
#block2 ul{list-style:outside none none;height:17px;padding:3px 0;overflow:hidden;margin:0;}
#block2 ulli {float:left;display:inline;margin:2px 0;height:14px;width:100%;}
#block2 ul li a{text-decoration:none;}

.other{ height:40px; width:80px; background:green;vertical-align:middle;}
.other p{ font-size:12px;line-height:16px;width:50px;vertical-align:middle;padding-top: 1px;padding-bottom: 1px;}
</style>
</head>
<body>
<div id="block2">
  <ul id="rolltxt">
    <li><a href="#">测试文字</a>1</li>
    <li><a href="#">测试文字</a>2</li>
    <li><a href="#">测试文字</a>3</li>
    <li><a href="#">测试文字</a>4</li>
    <li><a href="#">测试文字</a>5</li>
    <li><a href="#">测试文字</a>6</li>
    <li><a href="#">测试文字</a>7</li>
    <li><a href="#">测试文字</a>8</li>
    <li><a href="#">测试文字</a>9</li>
    <li><a href="#">测试文字</a>10</li>
    <li><a href="#">测试文字</a>11</li>
    <li><a href="#">测试文字</a>12</li>
    <li><a href="#">测试文字</a>13</li>
    <li><a href="#">测试文字</a>14</li>
    <li><a href="#">测试文字</a>15</li>
    <li><a href="#">测试文字</a>16</li>
  </ul>
</div>
<div class="other">
	<p>文字文字</p>
</div>
<table>
<tr><td style="vertical-align:middle;height:300px;background-color:red;width:50px;">大声地阿斯顿阿斯顿阿斯顿
</td></tr>
</table>
<script type="text/javascript"> 
function extractNodes(pNode){
	if(pNode.nodeType == 3)return null;
	var node,nodes = new Array();
	for(var i=0;node= pNode.childNodes[i];i++){
		if(node.nodeType == 1)nodes.push(node);
	}
	return nodes;
}
var obj=document.getElementById("rolltxt");
for(i=0;i<4;i++){
	obj.appendChild(extractNodes(obj)[i].cloneNode(true));
}
settime=0;
var t=setInterval(rolltxt,50);
function rolltxt(){
	if(obj.scrollTop % (obj.clientHeight-5) ==0){
		settime+=1;
		if(settime==50){
			obj.scrollTop+=1;
			settime=0;
		}
	}else{
		obj.scrollTop+=1;
		if(obj.scrollTop==(obj.scrollHeight-obj.clientHeight)){
			obj.scrollTop=0;
		}
	}
}
obj.onmouseover=function(){clearInterval(t)}
obj.onmouseout=function(){t=setInterval(rolltxt,50)}
</script>
</body>
</html>